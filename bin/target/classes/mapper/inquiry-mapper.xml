<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="Inquiry">
	<!-- 회원 문의 List -->
	<select id="InquiryList" resultType="Inquiry" parameterType="map">
		select * from Inquiry where inquiryWriter=#{id} and InquiryCheckPH=#{checkPH} order by inquiryDate desc
	</select>
	
	<!-- 회원 문의 totalCount -->
	<select id="InquiryListTotalCount" resultType="int" parameterType="map">
		select count(*) from Inquiry where inquiryWriter=#{id} and InquiryCheckPH=#{checkPH}
	</select>
	
	<!-- admin 문의 List -->
	<select id="InquiryAdminList" resultType="Inquiry">
		select * from Inquiry order by inquiryDate desc
	</select>
	
	<!-- admin 문의 totalCount -->
	<select id="InquiryAdminListTotalCount" resultType="int">
		select count(*) from Inquiry
	</select>
	
	<!-- 문의 insert -->
	<insert id="insertInquiry" parameterType="map">
		insert into Inquiry VALUES(Inquiry_SEQ.nextval, #{title}, #{id},#{checkPH} ,#{content}, null,'N',sysdate)
	</insert>
	
	<!-- 문의에 대한 답변 -->
	<update id="answerInquiry" parameterType="map">
		update Inquiry set inquiryAnswer=#{answerContent}, inquiryAnswerCheck='Y' where inquiryNum=#{answerNo}
	</update>
	
	<!-- 문의 삭제 -->
	<delete id="deleteInquiry" parameterType="_int">
		delete from Inquiry where inquiryNum=#{no}
	</delete>
	
	<!-- 문의 수정 -->
	<update id="updateInquiry" parameterType="map">
		update Inquiry set inquiryContent=#{updateContent} where inquiryNum=#{updateNo}
	</update>
</mapper>