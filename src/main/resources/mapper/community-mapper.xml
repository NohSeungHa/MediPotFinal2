<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="community">
	
	<!-- 자유게시판 List 불러오기 -->
	<select id="selectList" resultType="Community">
		select * from Community order by communityDate desc
	</select>
	
	<!-- 자유게시판 전체 갯수 -->
	<select id="selectCount" resultType="_int">
		select count(*) from Community
	</select>
	
	<!-- 자유게시판 글작성 -->
	<insert id="insertCommunity" parameterType="Community">
		insert into Community VALUES(Community_SEQ.nextval, #{communityTitle}, #{communityWriter}, #{communityContent}, #{communityFile},#{communityRefile},0,sysdate)
	</insert>
	
	<!-- 자유게시판 조회수 증가 -->
	<update id="updateCount" parameterType="_int">
		UPDATE Community SET communityReadcount=communityReadcount + 1 WHERE communityNum = #{no}
	</update>
	
	<!-- 자유게시판 view 불러오기 -->
	<select id="selectOneCommunity" resultType="Community" parameterType="_int">
		select * from Community where communityNum=#{no}
	</select>
	
	<!-- 자유게시판 제목 검색 -->
	<select id="searchTitleNumber" resultType="_int" parameterType="string">
		select communityNum from Community where communityTitle LIKE #{searchContent} order by communityDate desc
	</select>
	
	<!-- 자유게시판 내용 검색 -->
	<select id="searchContentNumber" resultType="_int" parameterType="string">
		select communityNum from Community where communityTitle LIKE #{searchContent} order by communityDate desc
	</select>
	
	<!-- 자유게시판 작성자 검색 -->
	<select id="searchWriterNumber" resultType="_int" parameterType="string">
		select communityNum from Community where communityTitle LIKE #{searchContent} order by communityDate desc
	</select>
	
	<select id="selectCommunityNumber" resultType="_int">
		select communityNum from Community order by communityDate desc
	</select>
	
	
</mapper>
